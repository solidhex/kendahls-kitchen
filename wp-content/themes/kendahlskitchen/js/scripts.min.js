// add your custom scripts here
// as the page loads, call these scripts
jQuery(function(a){});Modernizr.load([{test:Modernizr.borderradius,nope:[flo.template_dir+"/js/libs/selectivizr.min.js",flo.template_dir+"/js/libs/respond.min.js"]},{test:Modernizr.touch,yep:flo.template_dir+"/css/touch.css"}]);jQuery(function(a){var b=a("#post").length,c=a("article.post"),d=parseInt(flo.is_mobile),e={animation:"slide",slideshow:!1,controlNav:!1},f={verticalDragMaxHeight:30,verticalDragMinHeight:30,showArrows:!0,autoReinitialise:!0};a(document).ajaxComplete(function(){try{if(!c.length)return}catch(a){}});a("a[rel$=external]").each(function(){a(this).attr("target","_blank")});a.fn.init_posts=function(){var b=a("#trap"),c=function(c){var d=c.data("post-id");a.ajax({url:flo.ajax_load_url,data:{action:"flotheme_load_post",id:d},type:"POST"}).done(function(c){var d=a(c);b.append(d);d.scrollTo();g(d)})},e=function(d,e){d.preventDefault();var f=a(this).parents("article.post"),g=a.extend({comments:!1,hide:!1,add_comment:!1},e);if(b.find("#post-"+f.data("post-id")).length)if(b.find("#post-"+f.data("post-id")).is(":visible"))b.find("#post-"+f.data("post-id")).scrollTo();else{b.find(".post").hide();b.find("#post-"+f.data("post-id")).show().scrollTo()}else{b.find(".post").hide();c(f)}},g=function(b){var c=a("section.respond",b),d=a("form",c),e=a("p.error",d),g=a(".cancel-comment-reply a",c),h=a("section.comments",b);a(".respond form label",b).inFieldLabels();a(".list",b).jScrollPane(f);a("a.comment-reply-link",b).on("click",function(d){d.preventDefault();var e=a(this).parents("li.comment");e.find(">div").append(c);g.show();c.find("input[name=comment_post_ID]").val(b.data("post-id"));c.find("input[name=comment_parent]").val(e.data("comment-id"));c.find("input:first").focus()}).attr("onclick","");g.on("click",function(d){d.preventDefault();h.after(c);c.find("input[name=comment_post_ID]").val(b.data("post-id"));c.find("input[name=comment_parent]").val(0);a(this).hide()});d.ajaxForm({beforeSubmit:function(){e.text("").hide()},success:function(b){var d=a.parseJSON(b);if(d.error){e.html(d.msg).slideDown("fast");return}var i=c.find("input[name=comment_parent]").val(),j=a(d.html),k;j.hide();if(i==0){k=h.find("ol");if(!k.length){k=a('<ol class="commentlist"></ol>');h.append(k)}}else{k=a("#comment-"+i).parent().find("ul");if(!k.length){k=a('<ul class="children"></ul>');a("#comment-"+i).parent().append(k)}g.trigger("click")}k.append(j);j.fadeIn("fast").scrollTo();c.find("textarea").clearFields();var l=h.find(".list").jScrollPane(f),m=l.data("jsp");m.scrollToBottom()},error:function(a){var b=a.responseText.match(/\<p\>(.*)<\/p\>/)[1];typeof b=="undefined"&&(b="Something went wrong. Please reload the page and try again.");e.html(b).slideDown("fast")}})};a(this).each(function(){var b=a(this);d||flo.ajax_posts&&a("a.toggle",b).click(e)})};c.init_posts();a.fn.init_homepage=function(){a(this).each(function(){var b=a(this);a(".flexslider",b).flexslider({controlNav:!0,directionNav:!1,slideshowSpeed:4e3})})};a("#homepage").init_homepage();a.fn.init_contact=function(){a(this).each(function(){var b=a(this);a("form label",b).inFieldLabels()})};a("#contact").init_contact();a.fn.init_inspiration=function(){a(this).each(function(){var b=a(this);a(".flexslider",b).flexslider({controlNav:!1,slideshow:!1})})};a("#inspiration .entry").init_inspiration();a.fn.init_design_process=function(){a(this).each(function(){var b=a(this);a(".flexslider",b).flexslider({controlNav:!1,slideshow:!1})})};a("#design-process").init_design_process();a.fn.init_lookbook=function(){a(this).each(function(){var b=a(this);a(".gallery",b).scrollable({circular:!0});var c=a(".gallery",b).data("scrollable"),d=null;c.onBeforeSeek(function(){console.log("before");a(".gallery .item .over",b).animate({opacity:.7},400)}).onSeek(function(){console.log("seek");d=a(".gallery .active",b);d.find(".over").animate({opacity:0},100)})})};a("#lookbook").init_lookbook();a.fn.init_archives=function(){a(this).each(function(){var b=a(this),c=a(".archives-active-year",b),d=a("div.months div.year-months",b),e=a("a.up, a.down",b),f,g,h,i=!1;if(d.length==1){e.remove();f=d.filter(":first").addClass("year-active").show();c.text(f.attr("id").replace(/[^0-9]*/,""));return}e.click(function(b){b.preventDefault();if(i)return;var f=a(this);i=!0;e.css("visibility","visible");var g=d.filter(".year-active");if(f.hasClass("up")){h=g.prev();h.length||(h=d.filter(":last"))}else{h=g.next();h.length||(h=d.filter(":first"))}g.removeClass("year-active").fadeOut(150,function(){h.addClass("year-active").fadeIn(150,function(){i=!1});c.text(h.attr("id").replace(/[^0-9]*/,""));f.hasClass("up")?h.prev().length||e.filter(".up").css("visibility","hidden"):h.next().length||e.filter(".down").css("visibility","hidden")})});f=d.filter(":first").addClass("year-active").show();c.text(f.attr("id").replace(/[^0-9]*/,""));e.filter(".up").css("visibility","hidden")})};a("#content .flo-archives").init_archives()});jQuery(function(a){if(!Modernizr.input.placeholder){a(this).find("[placeholder]").each(function(){a(this).val(a(this).attr("placeholder"))});a("[placeholder]").focus(function(){if(a(this).val()==a(this).attr("placeholder")){a(this).val("");a(this).removeClass("placeholder")}}).blur(function(){if(a(this).val()==""||a(this).val()==a(this).attr("placeholder")){a(this).val(a(this).attr("placeholder"));a(this).addClass("placeholder")}});a("[placeholder]").closest("form").submit(function(){a(this).find("[placeholder]").each(function(){a(this).val()==a(this).attr("placeholder")&&a(this).val("")})})}});